import { ComponentFixture, TestBed } from '@angular/core/testing';

import { FixingNotiExceptionsComponent } from './fixing-noti-exceptions.component';

describe('FixingNotiExceptionsComponent', () => {
  let component: FixingNotiExceptionsComponent;
  let fixture: ComponentFixture<FixingNotiExceptionsComponent>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      declarations: [ FixingNotiExceptionsComponent ]
    })
    .compileComponents();

    fixture = TestBed.createComponent(FixingNotiExceptionsComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
